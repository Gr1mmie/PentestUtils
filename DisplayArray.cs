using System;
using System.IO;
using System.Text;

namespace DisplayArray
{
    class Program
    {

        public static string ByteArrayToString(byte[] ba) {
            StringBuilder hex = new StringBuilder(ba.Length * 2);
            int counter = 0, columnLen = 12;
            foreach (byte b in ba) {
                    hex.AppendFormat("0x{0:x2}, ", b);
                    counter++;
                    if (counter % columnLen == 0) { hex.AppendLine(); }
            }
            return hex.ToString();
        }

        static void Main(string[] args)
        {
            if (args.Length == 0 ) { Console.WriteLine("Give path\n"); Environment.Exit(1); }

            byte[] array = File.ReadAllBytes(args[0]);
            string arrayStart = $"unsigned char rawData[{array.Length}] = " + "{ ";
            string arrayEnd = "};";
            string arrayContents = ByteArrayToString(array);
            int byteLen = arrayContents.Length;
            arrayContents = arrayContents.Remove(byteLen - 2, 1);
            
            string arrayFull = $"{arrayStart}\n{arrayContents}\n{arrayEnd}";

            Console.WriteLine(arrayFull);
        }
    }
}
